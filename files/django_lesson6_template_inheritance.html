
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>جزوه آموزشی جنگو — روز ششم: وراثت تمپلیت و Base Template</title>
  <style>
    body {
      font-family: Vazirmatn, IRANSans, "Segoe UI", Tahoma, Arial, sans-serif;
      margin: 0; padding: 0; background: #fafafa; color: #222;
      line-height: 1.8;
    }
    .container {
      max-width: 980px; margin: 24px auto; padding: 22px 18px;
      background: #fff; border-radius: 14px; box-shadow: 0 10px 30px rgba(0,0,0,.06);
    }
    h1, h2, h3 { color: #0f172a; margin-top: 1.2em; }
    h1 { font-size: 1.8rem; margin-top: 0; }
    h2 { font-size: 1.3rem; }
    h3 { font-size: 1.1rem; }
    .lead {
      background: #eef2ff; border: 1px solid #c7d2fe; padding: 16px; border-radius: 10px;
    }
    .pill {
      display: inline-block; background: #f1f5f9; color: #0f172a; padding: 6px 10px;
      border-radius: 999px; font-size: .86rem; margin-left: 6px; margin-bottom: 6px;
      border: 1px solid #e2e8f0;
    }
    code, pre {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: .92rem; direction: ltr; unicode-bidi: plaintext;
    }
    pre {
      background: #0b1020; color: #e5e7eb; padding: 14px; border-radius: 10px; overflow: auto;
      border: 1px solid #111827; margin: 12px 0;
    }
    table {
      width: 100%; border-collapse: collapse; margin: 12px 0 16px;
      border: 1px solid #e5e7eb; border-radius: 10px; overflow: hidden;
    }
    th, td {
      text-align: right; padding: 10px 12px; border-bottom: 1px solid #eef2f7;
      vertical-align: top;
    }
    thead th { background: #f8fafc; color: #0f172a; }
    .tips {
      background: #ecfeff; border: 1px solid #a5f3fc; padding: 12px; border-radius: 10px; color: #164e63;
      margin-top: 12px;
    }
    .footer {
      margin-top: 28px; font-size: .9rem; color: #475569;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎓 جزوه آموزشی جنگو (Django) — روز ششم</h1>
    <p class="lead"><strong>موضوع:</strong> وراثت تمپلیت‌ها (<em>Template Inheritance</em>) و ایجاد <code>base.html</code> برای حذف تکرار کد (اصل DRY)</p>

    <section>
      <h2>۱) مشکل تکرار کد و اصل DRY</h2>
      <p>در صفحات مختلف مثل <code>index.html</code> و <code>about.html</code> معمولاً کدهای مشترکی مانند 
      <span class="pill">{% raw %}{% load static %}{% endraw %}</span>، لینک‌های CSS/JS، و ساختار کامل HTML (<code>&lt;html&gt;&lt;head&gt;&lt;body&gt;</code>) تکرار می‌شوند.
      این کار اصل <strong>DRY</strong> را نقض می‌کند و نگهداری را سخت می‌سازد.</p>
      <p><strong>هدف:</strong> استخراج بخش‌های مشترک (هدر، ناوبری، فوتر، لینک‌های CSS/JS) در یک فایل واحد به نام <code>base.html</code>.</p>
    </section>

    <section>
      <h2>۲) ایجاد تمپلیت پایه (<code>base.html</code>)</h2>
      <p>در پوشهٔ <code>templates</code> یک فایل به نام <code>base.html</code> بسازید و ساختار مشترک را به آن منتقل کنید.</p>
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="fa" dir="rtl"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;{% raw %}{% block title %}{% endblock title %}{% endraw %}&lt;/title&gt;
  {% raw %}{% load static %}{% endraw %}
  &lt;link rel="stylesheet" href="{% raw %}{% static 'css/style.css' %}{% endraw %}"&gt;
  {% raw %}{% block extra_head %}{% endraw %}{% raw %}{% endblock extra_head %}{% endraw %}
&lt;/head&gt;
&lt;body&gt;
  &lt;header&gt;
    &lt;h1&gt;سایت آموزشی جنگو&lt;/h1&gt;
    &lt;nav&gt;
      &lt;a href="/"&gt;خانه&lt;/a&gt;
      &lt;a href="/about/"&gt;درباره ما&lt;/a&gt;
    &lt;/nav&gt;
  &lt;/header&gt;

  &lt;main class="container"&gt;
    {% raw %}{% block content %}{% endraw %}
    &lt;!-- محتوای اختصاصی هر صفحه اینجا قرار می‌گیرد --&gt;
    {% raw %}{% endblock content %}{% endraw %}
  &lt;/main&gt;

  &lt;footer&gt;
    &lt;small&gt;© 2025 — همهٔ حقوق محفوظ است&lt;/small&gt;
  &lt;/footer&gt;

  {% raw %}{% block scripts %}{% endraw %}{% raw %}{% endblock scripts %}{% endraw %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
      <p>در این فایل، بلوک‌های قابل‌جایگزین تعریف شده‌اند: <code>title</code>، <code>extra_head</code>، <code>content</code> و <code>scripts</code>.</p>
    </section>

    <section>
      <h2>۳) بلوک‌ها (Blocks) و نقش آن‌ها</h2>
      <table>
        <thead><tr><th>نام بلوک</th><th>کاربرد</th><th>مثال</th></tr></thead>
        <tbody>
          <tr>
            <td><code>title</code></td>
            <td>عنوان صفحه که در تب مرورگر نمایش داده می‌شود.</td>
            <td><code>{% raw %}{% block title %}صفحه اصلی{% endblock title %}{% endraw %}</code></td>
          </tr>
          <tr>
            <td><code>content</code></td>
            <td>بدنهٔ اصلی و محتوای اختصاصی هر صفحه.</td>
            <td><code>{% raw %}{% block content %}&lt;h2&gt;سلام دنیا&lt;/h2&gt;{% endblock content %}{% endraw %}</code></td>
          </tr>
          <tr>
            <td><code>extra_head</code></td>
            <td>استایل یا متاتگ‌های اضافهٔ مخصوص یک صفحه.</td>
            <td><code>{% raw %}{% block extra_head %}&lt;meta name="robots" content="noindex"&gt;{% endblock extra_head %}{% endraw %}</code></td>
          </tr>
          <tr>
            <td><code>scripts</code></td>
            <td>اسکریپت‌های اختصاصی هر صفحه (در انتهای بدنه).</td>
            <td><code>{% raw %}{% block scripts %}&lt;script src="{% static 'js/page.js' %}"&gt;&lt;/script&gt;{% endblock scripts %}{% endraw %}</code></td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h2>۴) ارث‌بری در تمپلیت‌های فرزند</h2>
      <p>در فایل‌های فرزند مانند <code>index.html</code> یا <code>about.html</code>، ابتدا مشخص می‌کنیم که این فایل از <code>base.html</code> ارث می‌برد و سپس فقط بلوک‌ها را پر می‌کنیم.</p>

      <h3>نمونه: <code>index.html</code></h3>
      <pre><code>{% raw %}{% extends 'base.html' %}{% endraw %}

{% raw %}{% block title %}صفحه اصلی{% endblock title %}{% endraw %}

{% raw %}{% block content %}{% endraw %}
  &lt;h2&gt;به وب‌سایت ما خوش آمدید 🌸&lt;/h2&gt;
  &lt;p&gt;این صفحهٔ اصلی پروژهٔ آموزشی جنگو است.&lt;/p&gt;
{% raw %}{% endblock content %}{% endraw %}</code></pre>

      <h3>نمونه: <code>about.html</code></h3>
      <pre><code>{% raw %}{% extends 'base.html' %}{% endraw %}

{% raw %}{% block title %}درباره ما{% endblock title %}{% endraw %}

{% raw %}{% block content %}{% endraw %}
  &lt;h2&gt;دربارهٔ این پروژه&lt;/h2&gt;
  &lt;p&gt;این پروژه برای آموزش مفاهیم پایهٔ جنگو طراحی شده است.&lt;/p&gt;
{% raw %}{% endblock content %}{% endraw %}</code></pre>
    </section>

    <section>
      <h2>۵) مزایا</h2>
      <ul>
        <li>🔁 <strong>کاهش تکرار کد:</strong> مدیریت لینک‌های استاتیک و ساختار مشترک فقط در <code>base.html</code>.</li>
        <li>⚡ <strong>نگهداری آسان‌تر:</strong> تغییرات سراسری با یک ویرایش در فایل پایه.</li>
        <li>🧩 <strong>کد تمیز و خوانا:</strong> فایل‌های فرزند فقط محتوای اختصاصی خود را دارند.</li>
        <li>🎨 <strong>یکپارچگی طراحی:</strong> همهٔ صفحات ظاهر و ساختار واحدی دارند.</li>
      </ul>
    </section>

    <section>
      <h2>۶) تمرین عملی</h2>
      <ol>
        <li>یک <code>base.html</code> با بلوک‌های <code>title</code>، <code>content</code>، <code>extra_head</code> و <code>scripts</code> بسازید.</li>
        <li>دو تمپلیت فرزند به نام‌های <code>index.html</code> و <code>about.html</code> ایجاد کنید که از <code>base.html</code> ارث می‌برند.</li>
        <li>در هر صفحه محتوای اختصاصی قرار دهید و خروجی را بررسی کنید.</li>
      </ol>
      <div class="tips"><strong>راهکار:</strong> اگر به تمپلیت‌های جزوهٔ روز چهارم اضافه کردید، کافی است HTML تکراری را حذف کنید و فقط بلوک‌ها را نگه دارید.</div>
    </section>

    <section class="footer">
      <p>تهیه و بازنویسی آموزشی: ساناز شهرائینی — «Template Inheritance & Base Template در جنگو»</p>
    </section>
  </div>
</body>
</html>
