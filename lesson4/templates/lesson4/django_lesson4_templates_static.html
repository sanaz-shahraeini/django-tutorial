{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="{% static 'lesson4/styles.css' %}" />

 

  <title>جزوه آموزشی جنگو — قسمت چهارم: الگوها و فایل‌های استاتیک</title>
  <style>
    body {
      font-family: Vazirmatn, IRANSans, "Segoe UI", Tahoma, Arial, sans-serif;
      margin: 0; padding: 0;
      line-height: 1.8;
    }
    .container {
      max-width: 980px; margin: 24px auto; padding: 20px 18px;
      background: #fff; border-radius: 14px; box-shadow: 0 10px 30px rgba(0,0,0,.06);
    }
    h1, h2, h3 {
      color: #0f172a; margin-top: 1.2em;
    }
    h1 { font-size: 1.8rem; margin-top: 0; }
    h2 { font-size: 1.3rem; }
    h3 { font-size: 1.1rem; }
    .lead {
      background: #eef2ff; border: 1px solid #c7d2fe; padding: 16px; border-radius: 10px;
    }
    .pill {
      display: inline-block; background: #f1f5f9; color: #0f172a; padding: 6px 10px;
      border-radius: 999px; font-size: .86rem; margin-left: 6px; margin-bottom: 6px;
      border: 1px solid #e2e8f0;
    }
    code, pre {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: .92rem;
      direction: ltr;
      unicode-bidi: plaintext;
    }
    pre {
      background: #0b1020; color: #e5e7eb; padding: 14px; border-radius: 10px; overflow: auto;
      border: 1px solid #111827;
    }
    .grid {
      display: grid; grid-template-columns: 1fr; gap: 14px;
    }
    @media (min-width: 720px) {
      .grid-2 { grid-template-columns: 1fr 1fr; }
    }
    table {
      width: 100%; border-collapse: collapse; margin: 10px 0 16px;
      border: 1px solid #e5e7eb; border-radius: 10px; overflow: hidden;
    }
    th, td {
      text-align: right; padding: 10px 12px; border-bottom: 1px solid #eef2f7;
      vertical-align: top;
    }
    thead th { background: #f8fafc; color: #0f172a; }
    .kbd {
      background: #111827; color: #e5e7eb; padding: 2px 8px; border-radius: 6px; font-size: .85rem;
    }
    .tips {
      background: #ecfeff; border: 1px solid #a5f3fc; padding: 12px; border-radius: 10px; color: #164e63;
    }
    .footer {
      margin-top: 28px; font-size: .9rem; color: #475569;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎓 جزوه آموزشی جنگو (Django) — قسمت چهارم</h1>
    <p class="lead"><strong>موضوع:</strong> الگوهای HTML (Templates) و فایل‌های استاتیک (Static Files) در جنگو</p>

    <section>
      <h2>۱) آماده‌سازی محیط توسعه و اجرای پروژه</h2>
      <p>فرض بر این است که محیط مجازی (Virtual Environment) و پروژه جنگو قبلاً ایجاد شده‌اند. گام‌های زیر را انجام دهید:</p>
      <ul>
        <li><span class="pill">باز کردن پروژه</span> پروژه را در VS Code باز کنید.</li>
        <li><span class="pill">فعال‌سازی محیط مجازی</span>
          <div class="grid grid-2">
            <pre><code># لینوکس/مک
source env/bin/activate</code></pre>
            <pre><code># ویندوز
venv\Scripts\activate</code></pre>
          </div>
        </li>
        <li><span class="pill">اجرای سرور</span>
          <pre><code>python manage.py runserver</code></pre>
        </li>
      </ul>
    </section>

    <section>
      <h2>۲) استفاده از الگوهای (Templates) فرانت‌اند</h2>
      <p>به جای بازگرداندن پاسخ‌های متنی ساده با <code>HttpResponse</code>، از فایل‌های کامل HTML استفاده می‌کنیم.</p>

      <h3>الف) تهیه و افزودن فایل‌های فرانت‌اند</h3>
      <ol>
        <li>یک قالب فرانت‌اند شامل HTML، CSS، JS و تصاویر تهیه کنید.</li>
        <li>ابتدا آن‌ها را در یک پوشهٔ موقت کپی کنید تا در گام‌های بعدی به ساختار استاندارد منتقل شوند.</li>
      </ol>

      <h3>ب) استفاده از تابع <code>render</code> در View ها</h3>
      <table>
        <thead>
          <tr><th>قبل (پاسخ متنی)</th><th>بعد (رندر قالب HTML)</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <pre><code>from django.http import HttpResponse

def index(request):
    return HttpResponse("Hello!")</code></pre>
            </td>
            <td>
              <pre><code>from django.shortcuts import render

def index(request):
    return render(request, "index.html")</code></pre>
            </td>
          </tr>
        </tbody>
      </table>

      <h3>ج) معرفی مسیر پوشهٔ Templates در تنظیمات</h3>
      <p>در فایل <span class="kbd">settings.py</span>، در بخش <code>TEMPLATES</code> مقدار <code>DIRS</code> را تنظیم کنید:</p>
      <pre><code>'DIRS': [BASE_DIR / 'templates'],</code></pre>

      <h3>د) ساخت پوشهٔ Templates</h3>
      <ol>
        <li>در ریشهٔ پروژه (هم‌سطح با <code>manage.py</code>) یک پوشهٔ <code>templates</code> بسازید.</li>
        <li>فایل‌های HTML مورد نیاز (مثل <code>index.html</code>، <code>about.html</code> و <code>contact.html</code>) را در این پوشه قرار دهید.</li>
      </ol>
    </section>

    <section>
      <h2>۳) مدیریت فایل‌های استاتیک (Static Files)</h2>
      <p>برای بارگذاری صحیح CSS، JavaScript و تصاویر باید مسیر فایل‌های استاتیک را برای جنگو تعریف کنیم.</p>

      <h3>الف) ساخت پوشهٔ Static</h3>
      <ol>
        <li>در ریشهٔ پروژه، پوشه‌ای به نام <code>static</code> بسازید.</li>
        <li>زیرپوشه‌های <code>assets</code>، <code>css</code>، <code>js</code>، <code>img</code>، <code>fonts</code> و غیره را داخل آن قرار دهید.</li>
      </ol>

      <h3>ب) تنظیمات استاتیک در <code>settings.py</code></h3>
      <pre><code>STATICFILES_DIRS = [
    BASE_DIR / "static",
]</code></pre>

      <h3>ج) به‌روزرسانی مسیرها در HTML با تگ‌های استاتیک جنگو</h3>
      <ol>
        <li>در ابتدای هر فایل HTML که از فایل‌های استاتیک استفاده می‌کند، بنویسید:</li>
      </ol>
      <pre><code>{% load static %}</code></pre>

      <p>سپس مسیر فایل‌ها را به صورت زیر تغییر دهید:</p>
      <table>
        <thead>
          <tr><th>قبل از تغییر</th><th>بعد از تغییر (الگوی جنگو)</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><code>&lt;link href="assets/css/style.css"&gt;</code></td>
            <td><code>&lt;link href="{% static 'assets/css/style.css' %}"&gt;</code></td>
          </tr>
          <tr>
            <td><code>&lt;script src="assets/js/main.js"&gt;&lt;/script&gt;</code></td>
            <td><code>&lt;script src="{% static 'assets/js/main.js' %}"&gt;&lt;/script&gt;</code></td>
          </tr>
          <tr>
            <td><code>&lt;img src="assets/img/logo.png"&gt;</code></td>
            <td><code>&lt;img src="{% static 'assets/img/logo.png' %}" alt="Logo"&gt;</code></td>
          </tr>
        </tbody>
      </table>

      <div class="tips">
        <strong>نکته:</strong> در محیط توسعه نیازی به جمع‌آوری فایل‌های استاتیک ندارید. برای استقرار (Production) از
        <code>python manage.py collectstatic</code> استفاده کنید و مقدار <code>STATIC_ROOT</code> را تنظیم نمایید.
      </div>
    </section>

    <section class="footer">
      <p>تهیه و بازنویسی آموزشی: ساناز شهرائینی — «الگوهای HTML و فایل‌های استاتیک در جنگو»</p>
    </section>
  </div>
</body>
</html>
